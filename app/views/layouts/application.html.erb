<!DOCTYPE html>
<html lang="<%= I18n.locale %>">
  <head>
    <title>MizusirazuNet</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= favicon_link_tag '/favicon.ico' %>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">

    <!-- NES.css -->
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet" />

    <%= stylesheet_link_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <header class="header">
      <!-- My Homepage logo -->
      <%= link_to root_path, class: "header__logo-wrap", title: "MizusirazuNet" do %>
        <%= image_tag '/images/logo.svg', size: '64x64', class: 'header__logo' %>
      <% end %>

      <!-- header toggle btn -->
      <a class="header__togglebtn nes-btn" href="#">*</a>

      <!-- Links -->
      <nav class="header__nav-links">
        <% if user_signed_in? %>
          <%= link_to t('my_page'), user_profile_path(current_user), class: 'header__nav-link' %>
          <%= link_to t('edit'), settings_path, class: 'header__nav-link' %>
          <%= link_to t('micropost_write'), new_micropost_path, class: 'header__nav-link' %>
          <%= link_to t('logout'), destroy_user_session_path, method: :delete, class: 'header__nav-link' %>
        <% else %>
          <%= link_to t('signup'), signup_path, class: 'header__nav-link' %>
          <%= link_to t('login'), new_user_session_path, class: 'header__nav-link' %>
          <%= link_to t('look_microposts'), microposts_path, class: 'header__nav-link' %>
        <% end %>
      </nav>
    </header>

    <% flash.each do |name, msg| %>
      <%= next if name == 'timedout' %>
      <div class="flash">
        <%= content_tag 'div', id: name do %>
          <span><%= msg %></span>
        <% end %>
      </div>
    <% end %>

    <main>
      <%= yield %>
    </main>

    <footer class="footer">
      <div class="nes-container is-rounded is-dark">
        <div class="footer__info">
          <!-- My site Links -->
          <div class="footer__info__technology-links nes-container is-dark with-title">
            <p class="title"><%= t('technology') %></p>
            <%= link_to t('source_code'), 'https://github.com/shinzanmono/mizusirazu.net' %>
            <%= link_to t('contact'), 'mailto:shinzanmono@example.com' %>
            <%= link_to 'NES.css', 'https://nostalgic-css.github.io/NES.css/' %>
            <%= link_to 'Nu-きなこもち(font)', 'http://kokagem.sakura.ne.jp/font/mochi/' %>
          </div>

          <!-- My site About -->
          <div class="footer__info__about">
            <p>Mizurazu.netはいいサイトです。</p>
            <p>なぜなら、いいサイトはいいサイトだからです。</p>
            <p>ということは、このサイトもいいサイトということになるでしょう。</p>
          </div>
        </div>

        <!-- language selector -->
        <div class="footer__language_selector">
          <h2><%= t('select_language') %></h2>
          <div class="footer__languages">
            <% I18n.available_locales.each do |language| %>
              <div class="footer__language">
                <%= link_to t(language), url_for(locale: language) %>
              </div>
            <% end %>
          </div>
        </div>

        <!-- copyright -->
        <div class="footer__copyright">
          <i class="nes-kirby"></i>
          <p>copyright (c) shinzanmono. All right received</p>
        </div>
    </footer> 

    <%= debug(params) if Rails.env.development? %> 

    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </body>
</html>
